# Forgejo Runner Configuration
# Скопируйте этот файл в .env и заполните значения

# ===================================
# Обязательные параметры
# ===================================

# URL вашего Forgejo instance
FORGEJO_INSTANCE_URL=https://your-forgejo-instance.com

# Токен регистрации runner
# Получите в Forgejo: Settings → Actions → Runners → Create new Runner
FORGEJO_RUNNER_TOKEN=your_forgejo_runner_token_here

# ===================================
# Опциональные параметры
# ===================================

# Имя runner (по умолчанию: alpine-runner-production)
FORGEJO_RUNNER_NAME=alpine-runner-production

# Метки для runner (какие образы доступны для workflow)
# Формат: label:docker://image,label2:docker://image2
FORGEJO_RUNNER_LABELS=alpine:docker://alpine:latest,ubuntu-latest:docker://ubuntu:latest,node:docker://node:20-alpine

# ===================================
# Настройки производительности
# ===================================

# Количество параллельных задач (рекомендуется: 1-2)
RUNNER_CAPACITY=1

# Таймаут для задач (формат: "3600s", "1h", "30m". По умолчанию: 3600s = 1 час)
RUNNER_TIMEOUT=3600s

# Интервал опроса новых задач (формат: "2s", "5s". По умолчанию: 2s)
RUNNER_FETCH_INTERVAL=2s

# Таймаут для fetch (формат: "5s", "10s". По умолчанию: 5s)
RUNNER_FETCH_TIMEOUT=5s

# ===================================
# Настройки кэша
# ===================================

# Включить кэш (true/false)
CACHE_ENABLED=true

# Максимальный размер кэша в мегабайтах (по умолчанию: 5000 = 5GB)
CACHE_MAX_SIZE=5000

# ===================================
# Настройки контейнеров
# ===================================

# Сеть для контейнеров (по умолчанию: bridge)
CONTAINER_NETWORK=bridge

# Privileged mode для Docker-in-Docker (true/false)
CONTAINER_PRIVILEGED=true

# ===================================
# Инструкция по получению токена
# ===================================
# 1. Откройте ваш Forgejo instance
# 2. Перейдите в Settings (или Admin panel → Actions)
# 3. Перейдите в раздел Actions → Runners
# 4. Нажмите "Create new Runner"
# 5. Скопируйте токен регистрации
# 6. Вставьте токен в FORGEJO_RUNNER_TOKEN выше

# ВАЖНО: Не коммитьте файл .env в Git!

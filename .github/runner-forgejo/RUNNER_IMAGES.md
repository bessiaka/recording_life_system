# üê≥ –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –æ–±—Ä–∞–∑–æ–≤ –¥–ª—è Forgejo Actions Runner

## üìä –°—Ä–∞–≤–Ω–∏—Ç–µ–ª—å–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –í–∞—à Dockerfile | Debian Optimized | Alpine Optimized | –¢–µ–∫—É—â–∏–π Alpine |
|----------|---------------|------------------|------------------|----------------|
| **–ë–∞–∑–æ–≤—ã–π –æ–±—Ä–∞–∑** | `nikolaik/python-nodejs:slim` | `node:20-slim` | `node:20-alpine` | `alpine:latest` |
| **–†–∞–∑–º–µ—Ä –æ–±—Ä–∞–∑–∞** | ~650 MB | ~400 MB | ~200 MB | ~85 MB |
| **Python** | ‚úÖ 3.13 | ‚úÖ 3.11 | ‚úÖ 3.12 | ‚ùå |
| **Node.js** | ‚úÖ 24 | ‚úÖ 20 LTS | ‚úÖ 20 LTS | ‚ùå |
| **Docker CLI** | ‚úÖ | ‚úÖ | ‚úÖ | ‚ùå |
| **actions/checkout@v4** | ‚úÖ | ‚úÖ | ‚úÖ | ‚ùå |
| **–í—Ä–µ–º—è —Å–±–æ—Ä–∫–∏** | 4-6 –º–∏–Ω | 2-3 –º–∏–Ω | 1-2 –º–∏–Ω | 30 —Å–µ–∫ |
| **–í—Ä–µ–º—è pull** | ~3 –º–∏–Ω | ~1.5 –º–∏–Ω | ~30 —Å–µ–∫ | ~10 —Å–µ–∫ |
| **–°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å** | ‚úÖ 100% | ‚úÖ 98% | ‚ö†Ô∏è 85% | ‚ùå 60% |
| **–°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å** | ‚úÖ‚úÖ‚úÖ | ‚úÖ‚úÖ‚úÖ | ‚úÖ‚úÖ | ‚úÖ |
| **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è** | üü° –•–æ—Ä–æ—à–æ | üü¢ **–õ—É—á—à–∏–π** | üü° –ö–æ–º–ø—Ä–æ–º–∏—Å—Å | üî¥ –ù–µ –ø–æ–¥—Ö–æ–¥–∏—Ç |

---

## üéØ –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π –≤—ã–±–æ—Ä: **Debian Optimized**

### –ü–æ—á–µ–º—É –∏–º–µ–Ω–Ω–æ Debian Optimized?

‚úÖ **–û–ø—Ç–∏–º–∞–ª—å–Ω—ã–π –±–∞–ª–∞–Ω—Å —Ä–∞–∑–º–µ—Ä–∞ –∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏**
- –†–∞–∑–º–µ—Ä: ~400 MB (–Ω–∞ 38% –º–µ–Ω—å—à–µ –≤–∞—à–µ–≥–æ –≤–∞—Ä–∏–∞–Ω—Ç–∞)
- –í—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã: Python, Node.js, Docker CLI
- –û—Ç–ª–∏—á–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å GitHub Actions

‚úÖ **–ë—ã—Å—Ç—Ä–∞—è —Å–±–æ—Ä–∫–∞ –∏ –¥–µ–ø–ª–æ–π**
- –°–±–æ—Ä–∫–∞ –æ–±—Ä–∞–∑–∞: ~2-3 –º–∏–Ω—É—Ç—ã
- Pull –æ–±—Ä–∞–∑–∞: ~1-1.5 –º–∏–Ω—É—Ç—ã
- –ú–µ–Ω—å—à–µ —Å–ª–æ–µ–≤ = –±—ã—Å—Ç—Ä–µ–µ –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ

‚úÖ **–ü–æ–ª–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å**
- ‚úÖ `actions/checkout@v4` —Ä–∞–±–æ—Ç–∞–µ—Ç –∏–∑ –∫–æ—Ä–æ–±–∫–∏
- ‚úÖ `actions/setup-python@v4` —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ `docker compose` –∫–æ–º–∞–Ω–¥—ã —Ä–∞–±–æ—Ç–∞—é—Ç
- ‚úÖ –í—Å–µ npm/pip –ø–∞–∫–µ—Ç—ã —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç—Å—è –±–µ–∑ –ø—Ä–æ–±–ª–µ–º

‚úÖ **Production-ready**
- –ë–∞–∑–æ–≤—ã–π –æ–±—Ä–∞–∑ `node:20-slim` - –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π –∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–π
- Debian stable - –ø—Ä–æ–≤–µ—Ä–µ–Ω–Ω–∞—è –±–∞–∑–∞
- LTS –≤–µ—Ä—Å–∏–∏ Node.js –∏ Python

---

## üìà –î–µ—Ç–∞–ª—å–Ω–æ–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ

### 1. –í–∞—à –∏—Å—Ö–æ–¥–Ω—ã–π Dockerfile

**–ü–ª—é—Å—ã:**
- ‚úÖ –ù–æ–≤–µ–π—à–∏–µ –≤–µ—Ä—Å–∏–∏ (Python 3.13, Node.js 24)
- ‚úÖ –ì–æ—Ç–æ–≤—ã–π –æ–±—Ä–∞–∑ `nikolaik/python-nodejs`
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–µ–Ω–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ

**–ú–∏–Ω—É—Å—ã:**
- ‚ùå –ë–æ–ª—å—à–æ–π —Ä–∞–∑–º–µ—Ä (~650 MB)
- ‚ùå –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –æ—Ç —Å—Ç–æ—Ä–æ–Ω–Ω–µ–≥–æ –æ–±—Ä–∞–∑–∞
- ‚ùå –ò–∑–±—ã—Ç–æ—á–Ω—ã–µ –ø–∞–∫–µ—Ç—ã (`make`, `unzip`, `gnupg`)
- ‚ùå –ú–µ–¥–ª–µ–Ω–Ω—ã–π pull –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ

**–†–∞–∑–º–µ—Ä —Å–ª–æ–µ–≤:**
```
nikolaik/python-nodejs:python3.13-nodejs24-slim  ~450 MB
+ Docker CE CLI                                  ~100 MB
+ –£—Ç–∏–ª–∏—Ç—ã (git, curl, wget, make)               ~50 MB
+ APT cache                                      ~50 MB
= –ò—Ç–æ–≥–æ                                          ~650 MB
```

---

### 2. Debian Optimized (–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

**–ü–ª—é—Å—ã:**
- ‚úÖ –ú–µ–Ω—å—à–∏–π —Ä–∞–∑–º–µ—Ä (~400 MB, -38%)
- ‚úÖ –û—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π –±–∞–∑–æ–≤—ã–π –æ–±—Ä–∞–∑ `node:20-slim`
- ‚úÖ –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –Ω–∞–±–æ—Ä –ø–∞–∫–µ—Ç–æ–≤
- ‚úÖ –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Å–ª–æ–µ–≤ –∏ cache
- ‚úÖ Node.js 20 LTS (–ø–æ–¥–¥–µ—Ä–∂–∫–∞ –¥–æ 2026)

**–ú–∏–Ω—É—Å—ã:**
- ‚ö†Ô∏è Python 3.11 –≤–º–µ—Å—Ç–æ 3.13 (–Ω–µ—Å—É—â–µ—Å—Ç–≤–µ–Ω–Ω–æ –¥–ª—è –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ –ø—Ä–æ–µ–∫—Ç–æ–≤)

**–†–∞–∑–º–µ—Ä —Å–ª–æ–µ–≤:**
```
node:20-slim                                     ~170 MB
+ Python 3.11 + pip                              ~80 MB
+ Docker CE CLI                                  ~100 MB
+ Git + –±–∞–∑–æ–≤—ã–µ —É—Ç–∏–ª–∏—Ç—ã                          ~50 MB
= –ò—Ç–æ–≥–æ                                          ~400 MB
```

**Dockerfile –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:**
- ‚úÖ –û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ RUN –∫–æ–º–∞–Ω–¥ (–º–µ–Ω—å—à–µ —Å–ª–æ–µ–≤)
- ‚úÖ `--no-install-recommends` (—Ç–æ–ª—å–∫–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –ø–∞–∫–µ—Ç—ã)
- ‚úÖ –û—á–∏—Å—Ç–∫–∞ APT cache –ø–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏
- ‚úÖ –°–∏–º–ª–∏–Ω–∫–∏ `python` ‚Üí `python3`
- ‚úÖ Health check –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞

---

### 3. Alpine Optimized (–õ–µ–≥–∫–æ–≤–µ—Å–Ω—ã–π)

**–ü–ª—é—Å—ã:**
- ‚úÖ –û—á–µ–Ω—å –º–∞–ª–µ–Ω—å–∫–∏–π —Ä–∞–∑–º–µ—Ä (~200 MB, -69%)
- ‚úÖ –ë—ã—Å—Ç—Ä—ã–π pull –∏ —Å–±–æ—Ä–∫–∞
- ‚úÖ –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç—å –∞—Ç–∞–∫–∏ (–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å)

**–ú–∏–Ω—É—Å—ã:**
- ‚ùå –ù–µ—Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å –Ω–µ–∫–æ—Ç–æ—Ä—ã–º–∏ Python –ø–∞–∫–µ—Ç–∞–º–∏ (musl libc –≤–º–µ—Å—Ç–æ glibc)
- ‚ùå –¢—Ä–µ–±—É—é—Ç—Å—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ build dependencies (gcc, musl-dev)
- ‚ùå –í–æ–∑–º–æ–∂–Ω—ã –ø—Ä–æ–±–ª–µ–º—ã —Å –±–∏–Ω–∞—Ä–Ω—ã–º–∏ wheel –ø–∞–∫–µ—Ç–∞–º–∏
- ‚ö†Ô∏è Docker CLI –∏–∑ community repo (–º–µ–Ω–µ–µ –∞–∫—Ç—É–∞–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è)

**–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:**
- ‚úÖ –ü—Ä–æ—Å—Ç—ã–µ –ø—Ä–æ–µ–∫—Ç—ã –±–µ–∑ —Å–ª–æ–∂–Ω—ã—Ö Python –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- ‚úÖ –ù—É–∂–Ω–∞ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å pull
- ‚úÖ –û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ–µ –¥–∏—Å–∫–æ–≤–æ–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ

**–ö–æ–≥–¥–∞ –ù–ï –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:**
- ‚ùå –ü—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç compiled Python packages (numpy, pandas, pillow)
- ‚ùå –ù—É–∂–Ω–∞ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å
- ‚ùå –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –¥–ª—è Debian/Ubuntu –ø–∞–∫–µ—Ç—ã

---

### 4. –¢–µ–∫—É—â–∏–π Alpine (–±–µ–∑ Node.js)

**–ü—Ä–æ–±–ª–µ–º–∞:**
- ‚ùå –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç Node.js ‚Üí `actions/checkout@v4` –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚ùå –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç Python ‚Üí –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ –∑–∞–ø—É—Å–∫–∞—Ç—å Python —Ç–µ—Å—Ç—ã
- ‚ùå –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç Docker CLI ‚Üí –Ω–µ–≤–æ–∑–º–æ–∂–µ–Ω –¥–µ–ø–ª–æ–π

**–í—ã–≤–æ–¥:** –ù–µ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–≥–æ CI/CD workflow.

---

## üöÄ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é

### –°—Ü–µ–Ω–∞—Ä–∏–π 1: Production –¥–µ–ø–ª–æ–π (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

**–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ: Debian Optimized**

```bash
# –°–±–æ—Ä–∫–∞ –æ–±—Ä–∞–∑–∞
./build-runner-image.sh debian

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ docker-compose.yml
services:
  forgejo-runner:
    image: forgejo-runner-optimized:debian
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- –°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å –∏ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –≤—Å–µ—Ö GitHub Actions
- –û–ø—Ç–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä

---

### –°—Ü–µ–Ω–∞—Ä–∏–π 2: –õ–µ–≥–∫–æ–≤–µ—Å–Ω—ã–π runner

**–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ: Alpine Optimized**

```bash
# –°–±–æ—Ä–∫–∞ –æ–±—Ä–∞–∑–∞
./build-runner-image.sh alpine

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ docker-compose.yml
services:
  forgejo-runner:
    image: forgejo-runner-optimized:alpine
```

**–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:**
- –ü—Ä–æ—Å—Ç—ã–µ –ø—Ä–æ–µ–∫—Ç—ã (—Ç–æ–ª—å–∫–æ JS/TS, –±–µ–∑ —Å–ª–æ–∂–Ω—ã—Ö Python –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π)
- –û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã —Å–µ—Ä–≤–µ—Ä–∞
- –ù—É–∂–Ω–∞ —Å–∫–æ—Ä–æ—Å—Ç—å pull/push

---

### –°—Ü–µ–Ω–∞—Ä–∏–π 3: –î–≤–∞ runner –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –∑–∞–¥–∞—á

**–õ–µ–≥–∫–∏–π runner** - —Ç–µ—Å—Ç—ã, –ª–∏–Ω—Ç–µ—Ä—ã, —Å–±–æ—Ä–∫–∞:
```yaml
test-job:
  runs-on: alpine  # Alpine Optimized
  steps:
    - uses: actions/checkout@v4
    - run: npm test
```

**–¢—è–∂–µ–ª—ã–π runner** - –¥–µ–ø–ª–æ–π:
```yaml
deploy-job:
  runs-on: debian  # Debian Optimized
  steps:
    - uses: actions/checkout@v4
    - run: docker compose up -d
```

---

## üìù –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —Å–±–æ—Ä–∫–µ –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é

### –®–∞–≥ 1: –°–±–æ—Ä–∫–∞ –æ–±—Ä–∞–∑–∞ –Ω–∞ Server

```bash
# –ù–∞ Server (192.168.1.72)
cd ~/WORKSPACE/recording_life_system/.github/runner-forgejo

# –°–±–æ—Ä–∫–∞ Debian Optimized (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
./build-runner-image.sh debian

# –ò–ª–∏ Alpine Optimized (–ª–µ–≥–∫–æ–≤–µ—Å–Ω—ã–π)
./build-runner-image.sh alpine
```

**–í—ã–≤–æ–¥:**
```
‚úÖ –û–±—Ä–∞–∑ —É—Å–ø–µ—à–Ω–æ —Å–æ–±—Ä–∞–Ω!
üìä –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± –æ–±—Ä–∞–∑–µ:
forgejo-runner-optimized  debian  402MB  2 minutes ago
```

### –®–∞–≥ 2: –û–±–Ω–æ–≤–∏—Ç—å docker-compose.yml

–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `.github/runner-forgejo/docker-compose.yml`:

```yaml
services:
  forgejo-runner:
    # –ë—ã–ª–æ:
    # image: ghcr.io/cristalhq/gitea-actions-runner:latest

    # –°—Ç–∞–ª–æ (Debian Optimized):
    image: forgejo-runner-optimized:debian

    # –ò–ª–∏ (Alpine Optimized):
    # image: forgejo-runner-optimized:alpine
```

### –®–∞–≥ 3: –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å runner

```bash
cd .github/runner-forgejo

# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å—Ç–∞—Ä—ã–π runner
docker compose down

# –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å –Ω–æ–≤—ã–º –æ–±—Ä–∞–∑–æ–º
docker compose up -d

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏
docker compose logs -f
```

---

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏

### –¢–µ—Å—Ç 1: –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã—Ö –≤–µ—Ä—Å–∏–π

```bash
docker exec forgejo-runner-alpine bash -c "
  echo 'Node.js:' \$(node --version)
  echo 'NPM:' \$(npm --version)
  echo 'Python:' \$(python --version)
  echo 'Git:' \$(git --version)
  echo 'Docker:' \$(docker --version)
  echo 'Docker Compose:' \$(docker compose version)
"
```

**–û–∂–∏–¥–∞–µ–º—ã–π –≤—ã–≤–æ–¥:**
```
Node.js: v20.x.x
NPM: 10.x.x
Python: 3.11.x
Git: 2.x.x
Docker: 27.x.x
Docker Compose: v2.x.x
```

### –¢–µ—Å—Ç 2: –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ workflow

Push –≤ –≤–µ—Ç–∫—É `claude/setup-github-actions-cicd-F5yxE` ‚Üí –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ `actions/checkout@v4` —Ä–∞–±–æ—Ç–∞–µ—Ç.

---

## üí° FAQ

### Q: –ü–æ—á–µ–º—É Node.js 20, –∞ –Ω–µ 24?

**A:** Node.js 20 - —ç—Ç–æ LTS –≤–µ—Ä—Å–∏—è —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –¥–æ –∞–ø—Ä–µ–ª—è 2026. Node.js 24 - —ç—Ç–æ Current –≤–µ—Ä—Å–∏—è, –Ω–µ LTS. –î–ª—è production —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è LTS.

### Q: –ú–æ–∂–Ω–æ –ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Python 3.13?

**A:** –î–∞, –º–æ–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å –±–∞–∑–æ–≤—ã–π –æ–±—Ä–∞–∑ –Ω–∞ `python:3.13-slim` –∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Node.js –æ—Ç–¥–µ–ª—å–Ω–æ. –ù–æ —ç—Ç–æ —É–≤–µ–ª–∏—á–∏—Ç —Ä–∞–∑–º–µ—Ä –∏ –≤—Ä–µ–º—è —Å–±–æ—Ä–∫–∏.

### Q: –°—Ç–æ–∏—Ç –ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å multi-stage build?

**A:** –î–ª—è runner –æ–±—Ä–∞–∑–∞ multi-stage build –Ω–µ –¥–∞—Å—Ç –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ–≥–æ –≤—ã–∏–≥—Ä—ã—à–∞, —Ç–∞–∫ –∫–∞–∫ –Ω–∞–º –Ω—É–∂–Ω—ã –≤—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –≤ —Ñ–∏–Ω–∞–ª—å–Ω–æ–º –æ–±—Ä–∞–∑–µ (Python, Node.js, Docker CLI).

### Q: –ö–∞–∫ —É–º–µ–Ω—å—à–∏—Ç—å —Ä–∞–∑–º–µ—Ä –µ—â–µ –±–æ–ª—å—à–µ?

**A:**
1. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Alpine Optimized (~200 MB)
2. –£–¥–∞–ª–∏—Ç—å –Ω–µ–Ω—É–∂–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, –µ—Å–ª–∏ –Ω–µ –Ω—É–∂–µ–Ω Python - —É–±—Ä–∞—Ç—å –µ–≥–æ)
3. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å distroless –æ–±—Ä–∞–∑—ã (–Ω–æ —Ç–µ—Ä—è–µ—Ç—Å—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å)

---

## üéØ –ò—Ç–æ–≥–æ–≤–∞—è —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è

**–î–ª—è –≤–∞—à–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞ `recording_life_system` —Ä–µ–∫–æ–º–µ–Ω–¥—É—é:**

‚úÖ **Debian Optimized** (`Dockerfile.runner`)

**–ü—Ä–∏—á–∏–Ω—ã:**
1. –û–ø—Ç–∏–º–∞–ª—å–Ω—ã–π –±–∞–ª–∞–Ω—Å —Ä–∞–∑–º–µ—Ä–∞ (~400 MB) –∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏
2. –ü–æ–ª–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å GitHub Actions
3. –°—Ç–∞–±–∏–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞ —Å Python + Node.js –ø—Ä–æ–µ–∫—Ç–∞–º–∏
4. –û—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–µ LTS –≤–µ—Ä—Å–∏–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
5. –ü—Ä–æ—Å—Ç–æ—Ç–∞ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏—è

**–ö–æ–º–∞–Ω–¥—ã –¥–ª—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è:**
```bash
# –ù–∞ Server
cd ~/WORKSPACE/recording_life_system/.github/runner-forgejo
./build-runner-image.sh debian
# –û–±–Ω–æ–≤–∏—Ç—å docker-compose.yml (image: forgejo-runner-optimized:debian)
docker compose down && docker compose up -d
```

---

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

- [Node.js Official Images](https://hub.docker.com/_/node)
- [Docker Best Practices](https://docs.docker.com/develop/dev-best-practices/)
- [Multi-stage Builds](https://docs.docker.com/build/building/multi-stage/)
- [Forgejo Actions Documentation](https://forgejo.org/docs/latest/user/actions/)

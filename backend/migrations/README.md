# Миграции базы данных

Этот каталог содержит SQL-миграции для обновления схемы базы данных.

## Как применить миграции

### Автоматически (рекомендуется)

Запустите скрипт из корня проекта:

```bash
./backend/apply_migration.sh
```

Скрипт:
- Создаст резервную копию базы данных
- Применит все миграции
- Проверит результат

### Вручную

Если вы хотите применить миграцию вручную:

```bash
# 1. Создайте резервную копию
cp ./data/tasks.db ./data/tasks.db.backup

# 2. Примените миграцию
sqlite3 ./data/tasks.db < ./backend/migrations/001_add_scheduled_time.sql

# 3. Проверьте результат
sqlite3 ./data/tasks.db "PRAGMA table_info(tasks);" | grep scheduled_time
```

### Пересоздание базы данных с нуля

Если у вас нет важных данных, проще всего пересоздать базу:

```bash
./backend/reset_db.sh
```

После этого база будет создана с новой схемой автоматически при следующем запуске приложения.

## Список миграций

- **001_add_scheduled_time.sql** - Добавляет поле `scheduled_time` для хранения времени начала задачи в течение дня
